# Copy to .env and fill in values
# See root .env.example for full reference

# === Application ===
APP_ENV=development
APP_DEBUG=true
APP_SECRET_KEY=change-me-in-production

# === Database ===
# Option A: Local PostgreSQL (default for local development)
DATABASE_URL=postgresql+asyncpg://guardia:guardia_dev@localhost:5432/guardia
#
# Option B: Neon Serverless (shared development / remote demo)
# DATABASE_URL=postgresql+asyncpg://user:pass@ep-xxxx-yyyy.us-east-2.aws.neon.tech/guardia?sslmode=require
#
# SSL and pool settings are auto-detected based on the host.
# Neon/Supabase hosts use SSL + smaller pool automatically.

# === Clerk Authentication ===
CLERK_SECRET_KEY=sk_test_...
CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_PEM_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"

# === SMTP Gateway ===
SMTP_HOST=0.0.0.0
SMTP_PORT=2525
SMTP_DOMAIN=guardia.strike.sh
SMTP_TLS_CERT=
SMTP_TLS_KEY=
SMTP_REQUIRE_TLS=false

# === Google Workspace Relay ===
GOOGLE_RELAY_HOST=aspmx.l.google.com
GOOGLE_RELAY_PORT=25
ACCEPTED_DOMAINS=strike.sh

# === Pipeline ===
THRESHOLD_ALLOW=0.3
THRESHOLD_WARN=0.6
THRESHOLD_QUARANTINE=0.8
PIPELINE_TIMEOUT_SECONDS=30
PIPELINE_ML_ENABLED=true

# === LLM - Claude (Primary) ===
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-opus-4-5-20251101

# === LLM - OpenAI (Fallback) ===
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4.1

# === ML Model ===
ML_MODEL_PATH=./ml_models/distilbert-guardia
ML_MAX_SEQ_LENGTH=256

# === MLflow ===
MLFLOW_TRACKING_URI=http://localhost:5000

# === CORS ===
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# === Storage ===
QUARANTINE_STORAGE_PATH=./quarantine_store
